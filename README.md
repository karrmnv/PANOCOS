# PANOCOS
Проект создан для формирования окна просмотра панорамы из кадров неподвижной мультикамерной сборки. В качестве исходного изображения могут быть использованы видеопотоки от нескольких камер имеющих немного отличающиеся коорданаты. Панорамой считатаем суммарное изображение формируемое всеми камерами. Под окном панорамы подразумевается изображение формируемое только из интересующей части панорамы. Основное практическое применение данного проекта - объекты транспорта (аэропорты, железнодорожные станции, морские и речные порты). 

## Содержание
В проекте представлена библиотека функций (исходный код лежит в файле functions.py). Предварительно видеопотоки преобразованы в файлы jpg формата, функциям поступают на вход ссылки на загруженные в память изображения.

### Функции для формирования окна просмотра панорамы:
* cut_area() $-$ находит координаты зоны пересечения двух областей на панораме
* make_display() $-$ формирует изображение окна просмотра панорамы нужной области для одного кадра(без сглаживания шва при сшифки изображений)
* make_display_frames() $-$ формирует изображение окна просмотра панорамы нужной области для нескольких кадров(номера кадров подаются на вход)

### Функции для выравнивания соседних изображений:
* homografy() $-$ на вход подаются ссылки двух изображений, возвращает матрицу преобразования(поворот и сдвиг) для второго изображения
* rotate() $-$ на вход получает изображение и матрицу преобразования для этого изображения, возвращает матрицу преобразования без сдвига и размер преобразованного изображения
* rotate_and_cut() $-$ аналогична функции rotate() возвращает матрицу преобразования и размер изображения чтобы отрезать углы на изображении появившиеся из-за поворота

### Функции для выравнивания яркости соседних сшиваемых кадров:
* find_correction() $-$ находит функцию преобразования яркости для двух областей на соседних камерах
* ret_functions() $-$ находит функции преобразования яркости с помощью функции find_correction() для 3 областей на зоне пересечения изображений с соседних камер
* brightness_correction() $-$ на вход получает ссылки двух соседних изображений, делает коррекцию яркости второго изображения


## Для работы библиотеки необходима установка следующих пакетов:
* установить Python по инструкции по **[ccылке](https://www.python.org/downloads/)**
* установить NumPy по инструкции по **[ссылке](https://numpy.org)**
* установить OpenCV по иснтрукции по **[ссылке](https://opencv.org/releases/)**
